{"version":3,"sources":["redux/playlist.types.js","redux/playlist-reducer.js","redux/root-reducer.js","redux/store.js","redux/playlist.action.js","components/add-url.jsx","redux/playlist.selector.js","components/player-container.jsx","components/playlist-item.jsx","components/playlist.jsx","pages/player.page.jsx","App.js","index.js"],"names":["PlaylistActionTypes","ADD_URL_TO_PLAYLIST","CHANGE_CURRENT_URL","REMOVE_URL","MOVE_URL_UP","MOVE_URL_DOWN","INITIAL_STATE","urlList","currentUrl","rootReducer","combineReducers","playlist","state","action","type","length","payload","console","log","slice","idx","indexOf","filter","url","urlCopy","temp","middleWares","logger","store","createStore","applyMiddleware","addUrlToPlaylist","connect","dispatch","urlCheck","value","test","urlCheck2","className","placeholder","onBlur","event","target","window","alert","onKeyDown","e","keyCode","selectPlaylist","selectUrlList","createSelector","selectCurrentUrl","match","undefined","pop","YouTube","videoId","opts","playerVars","autoplay","onReady","playVideo","onEnd","PlaylistItem","removeUrl","moveUrlUp","moveUrlDown","forceUpdate","Fragment","style","right","onClick","useState","setValue","useForceUpdate","minWidth","map","index","key","Player","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a8e5f7d5.chunk.js","sourcesContent":["export const PlaylistActionTypes = {\n  ADD_URL_TO_PLAYLIST: \"ADD_URL_TO_PLAYLIST\",\n  CHANGE_CURRENT_URL: \"CHANGE_CURRENT_URL\",\n  REMOVE_URL: \"REMOVE_URL\",\n  MOVE_URL_UP: \"MOVE_URL_UP\",\n  MOVE_URL_DOWN: \"MOVE_URL_DOWN\"\n};\nexport default PlaylistActionTypes;\n","import PlaylistActionTypes from \"./playlist.types\";\n\nconst INITIAL_STATE = {\n  urlList: [],\n  currentUrl: null\n};\n\nexport const UrllistReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case PlaylistActionTypes.ADD_URL_TO_PLAYLIST:\n      if (!state.urlList.length) {\n        console.log(action.payload);\n\n        return {\n          urlList: [action.payload],\n          currentUrl: action.payload\n        };\n      }\n      return {\n        ...state,\n        urlList: [...state.urlList, action.payload]\n      };\n    case PlaylistActionTypes.CHANGE_CURRENT_URL:\n      return {\n        urlList: state.urlList.slice(1),\n        currentUrl: state.urlList[1]\n      };\n    case PlaylistActionTypes.REMOVE_URL: {\n      let idx = state.urlList.indexOf(action.payload);\n      //if the url to remove is the 0th element then we have to change\n      //the 'currentUrl' also\n      if (!idx) {\n        return {\n          urlList: state.urlList.slice(1),\n          currentUrl: state.urlList[1]\n        };\n      }\n      return {\n        ...state,\n        urlList: state.urlList.filter(url => url !== action.payload)\n      };\n    }\n    case PlaylistActionTypes.MOVE_URL_UP: {\n      let idx = state.urlList.indexOf(action.payload);\n      let urlCopy = state.urlList;\n      //if the url is 0th then no  change\n      if (!idx) {\n        return {\n          ...state\n        };\n      }\n      //if the url position is 1st then we have to change the 'currentUrl' also\n      let temp = urlCopy[idx - 1];\n      urlCopy[idx - 1] = action.payload;\n      urlCopy[idx] = temp;\n      if (idx === 1) {\n        return {\n          urlList: urlCopy,\n          currentUrl: action.payload\n        };\n      }\n      return {\n        ...state,\n        urlList: urlCopy\n      };\n    }\n    case PlaylistActionTypes.MOVE_URL_DOWN: {\n      let idx = state.urlList.indexOf(action.payload);\n      let urlCopy = state.urlList;\n      //if the url is last then no  change\n      if (idx === urlCopy.length - 1) {\n        return {\n          ...state\n        };\n      }\n      //if the url position is 0th then we have to change the 'currentUrl' also\n      let temp = urlCopy[idx + 1];\n      urlCopy[idx + 1] = action.payload;\n      urlCopy[idx] = temp;\n      return {\n        currentUrl: temp,\n        urlList: urlCopy\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport { UrllistReducer } from \"./playlist-reducer\";\n\nexport const rootReducer = combineReducers({\n  playlist: UrllistReducer\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from \"redux\";\n\nimport logger from \"redux-logger\";\n\nimport { rootReducer } from \"./root-reducer\";\n\nconst middleWares = [logger];\n\nexport const store = createStore(rootReducer, applyMiddleware(...middleWares));\n\nconsole.log(\"logger applied\");\n\nexport default store;\n","import PlaylistActionTypes from \"./playlist.types\";\n\nexport const addUrlToPlaylist = url => ({\n  type: PlaylistActionTypes.ADD_URL_TO_PLAYLIST,\n  payload: url\n});\n\nexport const changeCurrentUrl = () => ({\n  type: PlaylistActionTypes.CHANGE_CURRENT_URL\n});\n\nexport const removeUrl = url => ({\n  type: PlaylistActionTypes.REMOVE_URL,\n  payload: url\n});\n\nexport const moveUrlUp = url => ({\n  type: PlaylistActionTypes.MOVE_URL_UP,\n  payload: url\n});\nexport const moveUrlDown = url => ({\n  type: PlaylistActionTypes.MOVE_URL_DOWN,\n  payload: url\n});\n","import React from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport { addUrlToPlaylist } from \"../redux/playlist.action\";\n\nexport const AddUrl = ({ dispatch }) => {\n  const ENTER_KRY = 13;\n  //urlCheck1 for url copied from the addres bar, with http:// and without\n  const urlCheck1 = url =>\n    /http:\\/\\/www.youtube.com\\/watch\\?v=.\\w/.test(url) ||\n    /www.youtube.com\\/watch\\?v=.\\w/.test(url);\n  //urlCheck2 for url gotten by using sharing option in a video, with http:// and without\n  const urlCheck2 = url =>\n    /http:\\/\\/youtu\\..\\D\\/\\w/.test(url) || /youtu\\..\\D\\/\\w/.test(url);\n  //combinig the above two checks\n  const urlCheck = value => urlCheck1(value) || urlCheck2(value);\n  return (\n    <input\n      className=\"border border-success\"\n      type=\"text\"\n      placeholder=\"enter url here\"\n      onBlur={event => {\n        const value = event.target.value;\n        console.log(\"url Check :\", urlCheck(value));\n        if (urlCheck(value)) {\n          dispatch(addUrlToPlaylist(value));\n          event.target.value = null;\n          return; //return used to skip the below window.alert()\n        } else if (value !== \"\") {\n          window.alert(\"enter a valid youtube url\");\n        }\n      }}\n      onKeyDown={e => {\n        if (e.keyCode === ENTER_KRY) {\n          const value = e.target.value;\n          if (urlCheck(value)) {\n            dispatch(addUrlToPlaylist(value));\n            e.target.value = null;\n          } else if (value !== \"\") {\n            window.alert(\"enter valid youtube url\");\n            e.target.value = null;\n          }\n        }\n      }}\n    />\n  );\n};\n\nexport default connect()(AddUrl);\n","import { createSelector } from \"reselect\";\n\n//playlist contsians urlPlaylist and currentUrl\nconst selectPlaylist = state => state.playlist;\n\nexport const selectUrlList = createSelector(\n  [selectPlaylist],\n  playlist => playlist.urlList\n);\n\nexport const selectCurrentUrl = createSelector(\n  [selectPlaylist],\n  playlist => playlist.currentUrl\n);\n","import React from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport { selectCurrentUrl } from \"../redux/playlist.selector\";\nimport { changeCurrentUrl } from \"../redux/playlist.action\";\n\nimport YouTube from \"react-youtube\";\n\nexport const PlayerContainer = ({ currentUrl, dispatch }) => {\n  //this will get rendered if no url entered by user\n  if (!currentUrl) {\n    return (\n      <div className=\"flex-fill text-center pt-5 border border-success\">\n        Please enter a url\n      </div>\n    );\n  }\n  const opts = {\n    playerVars: {\n      autoplay: 1\n    }\n  };\n  let url = currentUrl.match(/\\?v=(.*\\w*)|.be\\/(\\w*)/);\n  if (url.pop() === undefined) {\n    url = url[1];\n  } else {\n    //the url contain .be format of youtube url\n    url = currentUrl.match(/\\?v=(\\w*)|.be\\/(.*\\w*)/).pop();\n    console.log(\"url if .be/\", url);\n  }\n  return (\n    <div className=\"flex-fill\">\n      <YouTube\n        videoId={url}\n        opts={opts}\n        onReady={event => event.target.playVideo()}\n        onEnd={event => {\n          console.log(event, \"finished\", event);\n          dispatch(changeCurrentUrl());\n        }}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  currentUrl: selectCurrentUrl(state)\n});\n\nexport default connect(mapStateToProps)(PlayerContainer);\n","import React from \"react\";\n\nconst PlaylistItem = ({\n  url,\n  removeUrl,\n  moveUrlUp,\n  moveUrlDown,\n  forceUpdate\n}) => {\n  return (\n    <React.Fragment>\n      <li className=\"list-group-item position-relative\">\n        {url}\n        <span\n          className=\"d-flex-inline flex-row-reverse position-absolute space-between\"\n          style={{ right: 0 }}\n        >\n          <span className=\"btn-group-sm\">\n            <span\n              className=\"btn btn-primary\"\n              onClick={() => {\n                moveUrlUp(url);\n                forceUpdate();\n              }}\n            >\n              &#8593;\n            </span>\n            <span\n              className=\"btn btn-primary\"\n              onClick={() => {\n                moveUrlDown(url);\n                forceUpdate();\n              }}\n            >\n              &#8595;\n            </span>\n          </span>\n          <span\n            className=\"\"\n            onClick={event => {\n              console.log(removeUrl);\n\n              removeUrl(url);\n            }}\n          >\n            &#10005;\n          </span>\n        </span>\n      </li>\n    </React.Fragment>\n  );\n};\n\nexport default PlaylistItem;\n","import React, { useState } from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport { removeUrl, moveUrlDown } from \"../redux/playlist.action\";\nimport { moveUrlUp } from \"../redux/playlist.action\";\n\nimport { selectUrlList } from \"../redux/playlist.selector\";\n\nimport PlaylistItem from \"./playlist-item\";\n\nfunction useForceUpdate() {\n  const [value, setValue] = useState(true); //boolean state\n  return () => setValue(!value); // toggle the state to force render\n}\n\nconst Playlist = ({ urlList, removeUrl, moveUrlUp, moveUrlDown }) => {\n  const forceUpdate = useForceUpdate();\n  //renders a lodding screen if the user has not enterd any url\n  if (!urlList.length) {\n    return (\n      <div\n        className=\" align-self-stretch vh-100 text-center pt-5 border border-success\"\n        style={{ minWidth: \"100%\" }}\n      >\n        Please enter a url\n      </div>\n    );\n  }\n  //if user has entered any url this will get rendered\n  return (\n    <div\n      className=\" align-self-stretch vh-100 border border-success\"\n      style={{ minWidth: \"50vw\" }}\n    >\n      <ul className=\"list-group\">\n        {urlList.map((url, index) => (\n          <PlaylistItem\n            key={index}\n            forceUpdate={forceUpdate}\n            url={url}\n            removeUrl={removeUrl}\n            moveUrlUp={moveUrlUp}\n            moveUrlDown={moveUrlDown}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  urlList: selectUrlList(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  removeUrl: url => dispatch(removeUrl(url)),\n  moveUrlUp: url => dispatch(moveUrlUp(url)),\n  moveUrlDown: url => dispatch(moveUrlDown(url))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Playlist);\n","import React from \"react\";\n\nimport AddUrl from \"../components/add-url\";\n\nimport PlayerContainer from \"../components/player-container\";\n\nimport Playlist from \"../components/playlist\";\n\nexport class Player extends React.Component {\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"d-flex\">\n          <div className=\"d-flex flex-column\">\n            <AddUrl />\n            <PlayerContainer />\n          </div>\n          <Playlist />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Player;\n","import React from \"react\";\n\nimport { Player } from \"./pages/player.page\";\n\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"container-fluid\">\n      <Player />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Provider } from \"react-redux\";\n\nimport { store } from \"./redux/store\";\n\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}