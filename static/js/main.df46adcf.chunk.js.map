{"version":3,"sources":["redux/playlist.types.js","redux/playlist-reducer.js","redux/root-reducer.js","redux/store.js","components/add-url.jsx","redux/playlist.action.js","redux/playlist.selector.js","components/player-container.jsx","components/playlist-item.jsx","components/playlist.jsx","pages/player.page.jsx","App.js","index.js"],"names":["PlaylistActionTypes","ADD_URL_TO_PLAYLIST","CHANGE_CURRENT_URL","REMOVE_URL","MOVE_URL_UP","MOVE_URL_DOWN","INITIAL_STATE","urlList","currentUrl","rootReducer","combineReducers","playlist","state","action","type","length","payload","console","log","slice","idx","indexOf","filter","url","urlCopy","temp","middleWares","logger","store","createStore","applyMiddleware","connect","dispatch","urlCheck1","test","urlCheck2","className","placeholder","onBlur","event","value","target","window","alert","selectPlaylist","selectUrlList","createSelector","selectCurrentUrl","match","undefined","pop","YouTube","videoId","opts","playerVars","autoplay","onReady","playVideo","onEnd","PlaylistItem","removeUrl","moveUrlUp","moveUrlDown","forceUpdate","Fragment","style","right","onClick","useState","setValue","useForceUpdate","minWidth","map","index","key","Player","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"qRAOeA,EAPoB,CACjCC,oBAAqB,sBACrBC,mBAAoB,qBACpBC,WAAY,aACZC,YAAa,cACbC,cAAe,iB,yjBCHjB,IAAMC,EAAgB,CACpBC,QAAS,GACTC,WAAY,MCADC,EAAcC,YAAgB,CACzCC,SDE4B,WAAoC,IAAnCC,EAAkC,uDAA1BN,EAAeO,EAAW,uCAC/D,OAAQA,EAAOC,MACb,KAAKd,EAAoBC,oBACvB,OAAKW,EAAML,QAAQQ,OAQZ,EAAP,GACKH,EADL,CAEEL,QAAQ,GAAD,mBAAMK,EAAML,SAAZ,CAAqBM,EAAOG,aATnCC,QAAQC,IAAIL,EAAOG,SAEZ,CACLT,QAAS,CAACM,EAAOG,SACjBR,WAAYK,EAAOG,UAOzB,KAAKhB,EAAoBE,mBACvB,MAAO,CACLK,QAASK,EAAML,QAAQY,MAAM,GAC7BX,WAAYI,EAAML,QAAQ,IAE9B,KAAKP,EAAoBG,WACvB,IAAIiB,EAAMR,EAAML,QAAQc,QAAQR,EAAOG,SAGvC,OAAKI,EAME,EAAP,GACKR,EADL,CAEEL,QAASK,EAAML,QAAQe,QAAO,SAAAC,GAAG,OAAIA,IAAQV,EAAOG,aAP7C,CACLT,QAASK,EAAML,QAAQY,MAAM,GAC7BX,WAAYI,EAAML,QAAQ,IAQhC,KAAKP,EAAoBI,YACvB,IAAIgB,EAAMR,EAAML,QAAQc,QAAQR,EAAOG,SACnCQ,EAAUZ,EAAML,QAEpB,IAAKa,EACH,OAAO,EAAP,GACKR,GAIP,IAAIa,EAAOD,EAAQJ,EAAM,GAGzB,OAFAI,EAAQJ,EAAM,GAAKP,EAAOG,QAC1BQ,EAAQJ,GAAOK,EACH,IAARL,EACK,CACLb,QAASiB,EACThB,WAAYK,EAAOG,SAGhB,EAAP,GACKJ,EADL,CAEEL,QAASiB,IAGb,KAAKxB,EAAoBK,cACvB,IAAIe,EAAMR,EAAML,QAAQc,QAAQR,EAAOG,SACnCQ,EAAUZ,EAAML,QAEpB,GAAIa,IAAQI,EAAQT,OAAS,EAC3B,OAAO,EAAP,GACKH,GAIP,IAAIa,EAAOD,EAAQJ,EAAM,GAGzB,OAFAI,EAAQJ,EAAM,GAAKP,EAAOG,QAC1BQ,EAAQJ,GAAOK,EACR,CACLjB,WAAYiB,EACZlB,QAASiB,GAGb,QACE,OAAOZ,ME/EPc,EAAc,CAACC,KAERC,EAAQC,YAAYpB,EAAaqB,IAAe,WAAf,EAAmBJ,IAEjET,QAAQC,IAAI,kBAEGU,I,wCCsBAG,iBA5BO,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAEjBC,EAAY,SAAAV,GAAG,MACnB,yCAAyCW,KAAKX,IAC9C,gCAAgCW,KAAKX,IAEjCY,EAAY,SAAAZ,GAAG,MACnB,0BAA0BW,KAAKX,IAAQ,iBAAiBW,KAAKX,IAC/D,OACE,2BACEa,UAAU,wBACVtB,KAAK,OACLuB,YAAY,iBACZC,OAAQ,SAAAC,GACN,IAAMC,EAAQD,EAAME,OAAOD,MAG3B,GAFAD,EAAME,OAAOD,MAAQ,KACrBvB,QAAQC,IAAI,cAAee,EAAUO,IAAUL,EAAUK,IACrDP,EAAUO,IAAUL,EAAUK,GAChC,OAAOR,ECtBuB,CACtClB,KAAMd,EAAoBC,oBAC1Be,QDoByCwB,IAErB,KAAVA,GACFE,OAAOC,MAAM,mC,OExBjBC,EAAiB,SAAAhC,GAAK,OAAIA,EAAMD,UAEzBkC,EAAgBC,YAC3B,CAACF,IACD,SAAAjC,GAAQ,OAAIA,EAASJ,WAGVwC,EAAmBD,YAC9B,CAACF,IACD,SAAAjC,GAAQ,OAAIA,EAASH,c,QCsCRuB,eAJS,SAAAnB,GAAK,MAAK,CAChCJ,WAAYuC,EAAiBnC,MAGhBmB,EAzCgB,SAAC,GAA8B,IAA5BvB,EAA2B,EAA3BA,WAAYwB,EAAe,EAAfA,SAE5C,IAAKxB,EACH,OACE,yBAAK4B,UAAU,oDAAf,sBAKJ,IAKIb,EAAMf,EAAWwC,MAAM,0BAQ3B,YAPkBC,IAAd1B,EAAI2B,MACN3B,EAAMA,EAAI,IAGVA,EAAMf,EAAWwC,MAAM,0BAA0BE,MACjDjC,QAAQC,IAAI,cAAeK,IAG3B,yBAAKa,UAAU,aACb,kBAACe,EAAA,EAAD,CACEC,QAAS7B,EACT8B,KAjBO,CACXC,WAAY,CACVC,SAAU,IAgBRC,QAAS,SAAAjB,GAAK,OAAIA,EAAME,OAAOgB,aAC/BC,MAAO,SAAAnB,GACLtB,QAAQC,IAAIqB,EAAO,WAAYA,GAC/BP,EFhC6B,CACrClB,KAAMd,EAAoBE,4B,QG6CbyD,EAnDM,SAAC,GAMf,IALLpC,EAKI,EALJA,IACAqC,EAII,EAJJA,UACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,YACAC,EACI,EADJA,YAEA,OACE,kBAAC,IAAMC,SAAP,KACE,wBAAI5B,UAAU,qCACXb,EACD,0BACEa,UAAU,iEACV6B,MAAO,CAAEC,MAAO,IAEhB,0BAAM9B,UAAU,gBACd,0BACEA,UAAU,kBACV+B,QAAS,WACPN,EAAUtC,GACVwC,MAJJ,UASA,0BACE3B,UAAU,kBACV+B,QAAS,WACPL,EAAYvC,GACZwC,MAJJ,WAUF,0BACE3B,UAAU,GACV+B,QAAS,SAAA5B,GACPtB,QAAQC,IAAI0C,GAEZA,EAAUrC,KALd,cCrBV,IA6CeQ,eAVS,SAAAnB,GAAK,MAAK,CAChCL,QAASsC,EAAcjC,OAGE,SAAAoB,GAAQ,MAAK,CACtC4B,UAAW,SAAArC,GAAG,OAAIS,EJ7CK,SAAAT,GAAG,MAAK,CAC/BT,KAAMd,EAAoBG,WAC1Ba,QAASO,GI2CkBqC,CAAUrC,KACrCsC,UAAW,SAAAtC,GAAG,OAAIS,EJzCK,SAAAT,GAAG,MAAK,CAC/BT,KAAMd,EAAoBI,YAC1BY,QAASO,GIuCkBsC,CAAUtC,KACrCuC,YAAa,SAAAvC,GAAG,OAAIS,EJtCK,SAAAT,GAAG,MAAK,CACjCT,KAAMd,EAAoBK,cAC1BW,QAASO,GIoCoBuC,CAAYvC,QAG5BQ,EA7CE,SAAC,GAAoD,IAAlDxB,EAAiD,EAAjDA,QAASqD,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,YAC3CC,EANR,WAA2B,IAAD,EACEK,oBAAS,GADX,mBACjB5B,EADiB,KACV6B,EADU,KAExB,OAAO,kBAAMA,GAAU7B,IAIH8B,GAEpB,OAAK/D,EAAQQ,OAYX,yBACEqB,UAAU,mDACV6B,MAAO,CAAEM,SAAU,SAEnB,wBAAInC,UAAU,cACX7B,EAAQiE,KAAI,SAACjD,EAAKkD,GAAN,OACX,kBAAC,EAAD,CACEC,IAAKD,EACLV,YAAaA,EACbxC,IAAKA,EACLqC,UAAWA,EACXC,UAAWA,EACXC,YAAaA,SAtBnB,yBACE1B,UAAU,oEACV6B,MAAO,CAAEM,SAAU,SAFrB,yBCbOI,EAAb,iLAEI,OACE,kBAAC,IAAMX,SAAP,KACE,yBAAK5B,UAAU,UACb,yBAAKA,UAAU,sBACb,kBAAC,EAAD,MACA,kBAAC,EAAD,OAEF,kBAAC,EAAD,YATV,GAA4BwC,IAAMC,W,MCMnBC,MARf,WACE,OACE,yBAAK1C,UAAU,mBACb,kBAAC,EAAD,Q,MCCN2C,IAASC,OACP,kBAAC,IAAD,CAAUpD,MAAOA,GACf,kBAAC,EAAD,OAEFqD,SAASC,eAAe,W","file":"static/js/main.df46adcf.chunk.js","sourcesContent":["export const PlaylistActionTypes = {\n  ADD_URL_TO_PLAYLIST: \"ADD_URL_TO_PLAYLIST\",\n  CHANGE_CURRENT_URL: \"CHANGE_CURRENT_URL\",\n  REMOVE_URL: \"REMOVE_URL\",\n  MOVE_URL_UP: \"MOVE_URL_UP\",\n  MOVE_URL_DOWN: \"MOVE_URL_DOWN\"\n};\nexport default PlaylistActionTypes;\n","import PlaylistActionTypes from \"./playlist.types\";\n\nconst INITIAL_STATE = {\n  urlList: [],\n  currentUrl: null\n};\n\nexport const UrllistReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case PlaylistActionTypes.ADD_URL_TO_PLAYLIST:\n      if (!state.urlList.length) {\n        console.log(action.payload);\n\n        return {\n          urlList: [action.payload],\n          currentUrl: action.payload\n        };\n      }\n      return {\n        ...state,\n        urlList: [...state.urlList, action.payload]\n      };\n    case PlaylistActionTypes.CHANGE_CURRENT_URL:\n      return {\n        urlList: state.urlList.slice(1),\n        currentUrl: state.urlList[1]\n      };\n    case PlaylistActionTypes.REMOVE_URL: {\n      let idx = state.urlList.indexOf(action.payload);\n      //if the url to remove is the 0th element then we have to change\n      //the 'currentUrl' also\n      if (!idx) {\n        return {\n          urlList: state.urlList.slice(1),\n          currentUrl: state.urlList[1]\n        };\n      }\n      return {\n        ...state,\n        urlList: state.urlList.filter(url => url !== action.payload)\n      };\n    }\n    case PlaylistActionTypes.MOVE_URL_UP: {\n      let idx = state.urlList.indexOf(action.payload);\n      let urlCopy = state.urlList;\n      //if the url is 0th then no  change\n      if (!idx) {\n        return {\n          ...state\n        };\n      }\n      //if the url position is 1st then we have to change the 'currentUrl' also\n      let temp = urlCopy[idx - 1];\n      urlCopy[idx - 1] = action.payload;\n      urlCopy[idx] = temp;\n      if (idx === 1) {\n        return {\n          urlList: urlCopy,\n          currentUrl: action.payload\n        };\n      }\n      return {\n        ...state,\n        urlList: urlCopy\n      };\n    }\n    case PlaylistActionTypes.MOVE_URL_DOWN: {\n      let idx = state.urlList.indexOf(action.payload);\n      let urlCopy = state.urlList;\n      //if the url is last then no  change\n      if (idx === urlCopy.length - 1) {\n        return {\n          ...state\n        };\n      }\n      //if the url position is 0th then we have to change the 'currentUrl' also\n      let temp = urlCopy[idx + 1];\n      urlCopy[idx + 1] = action.payload;\n      urlCopy[idx] = temp;\n      return {\n        currentUrl: temp,\n        urlList: urlCopy\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport { UrllistReducer } from \"./playlist-reducer\";\n\nexport const rootReducer = combineReducers({\n  playlist: UrllistReducer\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from \"redux\";\n\nimport logger from \"redux-logger\";\n\nimport { rootReducer } from \"./root-reducer\";\n\nconst middleWares = [logger];\n\nexport const store = createStore(rootReducer, applyMiddleware(...middleWares));\n\nconsole.log(\"logger applied\");\n\nexport default store;\n","import React from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport { addUrlToPlaylist } from \"../redux/playlist.action\";\n\nexport const AddUrl = ({ dispatch }) => {\n  //urlCheck1 for url copied from the addres bar, with http:// and without\n  const urlCheck1 = url =>\n    /http:\\/\\/www.youtube.com\\/watch\\?v=.\\w/.test(url) ||\n    /www.youtube.com\\/watch\\?v=.\\w/.test(url);\n  //urlCheck2 for url gotten by using sharing option in a video, with http:// and without\n  const urlCheck2 = url =>\n    /http:\\/\\/youtu\\..\\D\\/\\w/.test(url) || /youtu\\..\\D\\/\\w/.test(url);\n  return (\n    <input\n      className=\"border border-success\"\n      type=\"text\"\n      placeholder=\"enter url here\"\n      onBlur={event => {\n        const value = event.target.value;\n        event.target.value = null;\n        console.log(\"url Check :\", urlCheck1(value) || urlCheck2(value));\n        if (urlCheck1(value) || urlCheck2(value)) {\n          return dispatch(addUrlToPlaylist(value));\n        }\n        if (value !== \"\") {\n          window.alert(\"enter a valid youtube url\");\n        }\n      }}\n    />\n  );\n};\n\nexport default connect()(AddUrl);\n","import PlaylistActionTypes from \"./playlist.types\";\n\nexport const addUrlToPlaylist = url => ({\n  type: PlaylistActionTypes.ADD_URL_TO_PLAYLIST,\n  payload: url\n});\n\nexport const changeCurrentUrl = () => ({\n  type: PlaylistActionTypes.CHANGE_CURRENT_URL\n});\n\nexport const removeUrl = url => ({\n  type: PlaylistActionTypes.REMOVE_URL,\n  payload: url\n});\n\nexport const moveUrlUp = url => ({\n  type: PlaylistActionTypes.MOVE_URL_UP,\n  payload: url\n});\nexport const moveUrlDown = url => ({\n  type: PlaylistActionTypes.MOVE_URL_DOWN,\n  payload: url\n});\n","import { createSelector } from \"reselect\";\n\n//playlist contsians urlPlaylist and currentUrl\nconst selectPlaylist = state => state.playlist;\n\nexport const selectUrlList = createSelector(\n  [selectPlaylist],\n  playlist => playlist.urlList\n);\n\nexport const selectCurrentUrl = createSelector(\n  [selectPlaylist],\n  playlist => playlist.currentUrl\n);\n","import React from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport { selectCurrentUrl } from \"../redux/playlist.selector\";\nimport { changeCurrentUrl } from \"../redux/playlist.action\";\n\nimport YouTube from \"react-youtube\";\n\nexport const PlayerContainer = ({ currentUrl, dispatch }) => {\n  //this will get rendered if no url entered by user\n  if (!currentUrl) {\n    return (\n      <div className=\"flex-fill text-center pt-5 border border-success\">\n        Please enter a url\n      </div>\n    );\n  }\n  const opts = {\n    playerVars: {\n      autoplay: 1\n    }\n  };\n  let url = currentUrl.match(/\\?v=(.*\\w*)|.be\\/(\\w*)/);\n  if (url.pop() === undefined) {\n    url = url[1];\n  } else {\n    //the url contain .be format of youtube url\n    url = currentUrl.match(/\\?v=(\\w*)|.be\\/(.*\\w*)/).pop();\n    console.log(\"url if .be/\", url);\n  }\n  return (\n    <div className=\"flex-fill\">\n      <YouTube\n        videoId={url}\n        opts={opts}\n        onReady={event => event.target.playVideo()}\n        onEnd={event => {\n          console.log(event, \"finished\", event);\n          dispatch(changeCurrentUrl());\n        }}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  currentUrl: selectCurrentUrl(state)\n});\n\nexport default connect(mapStateToProps)(PlayerContainer);\n","import React from \"react\";\n\nconst PlaylistItem = ({\n  url,\n  removeUrl,\n  moveUrlUp,\n  moveUrlDown,\n  forceUpdate\n}) => {\n  return (\n    <React.Fragment>\n      <li className=\"list-group-item position-relative\">\n        {url}\n        <span\n          className=\"d-flex-inline flex-row-reverse position-absolute space-between\"\n          style={{ right: 0 }}\n        >\n          <span className=\"btn-group-sm\">\n            <span\n              className=\"btn btn-primary\"\n              onClick={() => {\n                moveUrlUp(url);\n                forceUpdate();\n              }}\n            >\n              &#8593;\n            </span>\n            <span\n              className=\"btn btn-primary\"\n              onClick={() => {\n                moveUrlDown(url);\n                forceUpdate();\n              }}\n            >\n              &#8595;\n            </span>\n          </span>\n          <span\n            className=\"\"\n            onClick={event => {\n              console.log(removeUrl);\n\n              removeUrl(url);\n            }}\n          >\n            &#10005;\n          </span>\n        </span>\n      </li>\n    </React.Fragment>\n  );\n};\n\nexport default PlaylistItem;\n","import React, { useState } from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport { removeUrl, moveUrlDown } from \"../redux/playlist.action\";\nimport { moveUrlUp } from \"../redux/playlist.action\";\n\nimport { selectUrlList } from \"../redux/playlist.selector\";\n\nimport PlaylistItem from \"./playlist-item\";\n\nfunction useForceUpdate() {\n  const [value, setValue] = useState(true); //boolean state\n  return () => setValue(!value); // toggle the state to force render\n}\n\nconst Playlist = ({ urlList, removeUrl, moveUrlUp, moveUrlDown }) => {\n  const forceUpdate = useForceUpdate();\n  //renders a lodding screen if the user has not enterd any url\n  if (!urlList.length) {\n    return (\n      <div\n        className=\" align-self-stretch vh-100 text-center pt-5 border border-success\"\n        style={{ minWidth: \"100%\" }}\n      >\n        Please enter a url\n      </div>\n    );\n  }\n  //if user has entered any url this will get rendered\n  return (\n    <div\n      className=\" align-self-stretch vh-100 border border-success\"\n      style={{ minWidth: \"50vw\" }}\n    >\n      <ul className=\"list-group\">\n        {urlList.map((url, index) => (\n          <PlaylistItem\n            key={index}\n            forceUpdate={forceUpdate}\n            url={url}\n            removeUrl={removeUrl}\n            moveUrlUp={moveUrlUp}\n            moveUrlDown={moveUrlDown}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  urlList: selectUrlList(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  removeUrl: url => dispatch(removeUrl(url)),\n  moveUrlUp: url => dispatch(moveUrlUp(url)),\n  moveUrlDown: url => dispatch(moveUrlDown(url))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Playlist);\n","import React from \"react\";\n\nimport AddUrl from \"../components/add-url\";\n\nimport PlayerContainer from \"../components/player-container\";\n\nimport Playlist from \"../components/playlist\";\n\nexport class Player extends React.Component {\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"d-flex\">\n          <div className=\"d-flex flex-column\">\n            <AddUrl />\n            <PlayerContainer />\n          </div>\n          <Playlist />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Player;\n","import React from \"react\";\n\nimport { Player } from \"./pages/player.page\";\n\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"container-fluid\">\n      <Player />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Provider } from \"react-redux\";\n\nimport { store } from \"./redux/store\";\n\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}